{% extends 'base.html' %}

{% block title %} Search Results | Finanxial {% endblock %}

{% block content %}

{% if user.is_authenticated %}

<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
  <br/>
  <h2 class="text-muted">Search Results</h2>
  <div class="accordion" id="accordionExample">
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingOne">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
        Filter Results:
      </button>
    </h2>
    <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
      <form method=POST action="{% url 'searchCN_filter' %}">
      {% csrf_token %}
       <div class="accordion-body">
         <div class="row">
           <div class="col">

             <div class="form-check">
              <input class="form-check-input" type="radio" name="alpha" id="alpha" value="alpha">
              <label class="form-check-label" for="alpha">
                Alphabetical Order
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="newest" id="newest" value="newest">
              <label class="form-check-label" for="newest">
                Date Added (Newest)
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="oldest" id="oldest" value=oldest>
              <label class="form-check-label" for="oldest">
                Date Added (Oldest)
              </label>
            </div>
           </div>
           <div class="col">
             Services:
             <div class="form-check">
               <div class="btn-group" role="group" aria-label="Basic checkbox toggle button group">
                 <input type="checkbox" class="form-check-label" id="accountingCheck" name="accountingCheck" autocomplete="off">
                 <label class="form-check-label" for="accountingCheck" >Accounting</label>
               </div>
            </div>
            <div class="form-check">
              <div class="form-check">
                <div class="btn-group" role="group" aria-label="Basic checkbox toggle button group">
                  <input type="checkbox" class="form-check-label" id="taxesCheck" name="taxesCheck" autocomplete="off">
                  <label class="form-check-label" for="taxesCheck" >Taxes</label>
                </div>
             </div>
            </div>
            <div class="form-check">
              <div class="form-check">
                <div class="btn-group" role="group" aria-label="Basic checkbox toggle button group">
                  <input type="checkbox" class="form-check-label" id="auditsCheck" name="auditsCheck" autocomplete="off">
                  <label class="form-check-label" for="auditsCheck" >Audits</label>
                </div>
             </div>
            </div>
            <div class="form-check">
              <div class="form-check">
                <div class="btn-group" role="group" aria-label="Basic checkbox toggle button group">
                  <input type="checkbox" class="form-check-label" id="consultingCheck" name="consultingCheck" autocomplete="off">
                  <label class="form-check-label" for="accountingCheck" >Consulting</label>
                </div>
             </div>
            </div>
            <div class="form-check">
              <div class="form-check">
                <div class="btn-group" role="group" aria-label="Basic checkbox toggle button group">
                  <input type="checkbox" class="form-check-label" id="investmentCheck" name="investmentCheck" autocomplete="off">
                  <label class="form-check-label" for="accountingCheck" >Investment</label>
                </div>
             </div>
            </div>
            <div class="form-check">
              <div class="form-check">
                <div class="btn-group" role="group" aria-label="Basic checkbox toggle button group">
                  <input type="checkbox" class="form-check-label" id="planningCheck" name="planningCheck" autocomplete="off">
                  <label class="form-check-label" for="accountingCheck" >Financial Planning</label>
                </div>
             </div>
            </div>

           </div>
           <div class="col">
             <button type="submit" class="btn btn-outline-primary">Filter</button>
           </div>
        </form>
           <!-- <div class="col">
             <div class="dropdown">
              <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                Industry
              </button>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                <li><a class="dropdown-item" href="#">Action</a></li>
                <li><a class="dropdown-item" href="#">Another action</a></li>
                <li><a class="dropdown-item" href="#">Something else here</a></li>
              </ul>
            </div>
          </div>
          <div class="col">
            <div class="dropdown">
             <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
               Client Group
             </button>
             <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
               <li><a class="dropdown-item" href="#">Action</a></li>
               <li><a class="dropdown-item" href="#">Another action</a></li>
               <li><a class="dropdown-item" href="#">Something else here</a></li>
             </ul>
           </div>
         </div> -->

         </div>

       </div>

       </div>

  <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">

  {% if searched %}

        {% if searched %}
        <div class="table-responsive">
          <table class="table table-bordered table-hover">
            <thead>
              <tr>
                <th>Client Name‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎</th>
                <th>Project Manager‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‎</th>
                <th>Tax ID‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎</th>
                <th>Groups‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎ ‎‏‏‎</th>
                <th></th>
              </tr>
            </thead>
          {% for client in clients %}

              <tbody>
                <tr>
                  <td>{{ client.client_name }}</td>
                  <td>{{ client.project_manager }}</td>
                  <td>{{ client.tax_id }}</td>
                  {% for group in groups %}
                    {% if group.client_group == client.client_group %}
                      <td><a class="btn btn-sm btn-outline-secondary" href="{% url 'group_search' group.id %}" role="button">{{ client.client_group }}</a></td>
                    {% else %}
                    {% endif%}
                  {% endfor %}
                  <td><center><a class="btn btn-sm btn-outline-secondary" href="{% url 'client_page' client.id %}" role="button">Select</a></center></td>

                </tr>

              </tbody>

           {% endfor %}
         </table>
       </div>
        {%endif%}

  {% else %}
  <h4>No results...</h4>
  {% endif %}

{% else %}
{% endif %}

{% endblock %}
